# ğŸŒŠ æ™ºèƒ½æ°´åˆ©ç³»ç»Ÿ IoT ç›‘æ§å¹³å°

<div align="center">

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.9+-green.svg)
![Status](https://img.shields.io/badge/status-stable-brightgreen.svg)

**ç°ä»£åŒ–çš„æ™ºèƒ½æ°´åˆ©ç›‘æ§ç³»ç»Ÿï¼Œé›†æˆå®æ—¶æ•°æ®é‡‡é›†ã€WebSocketé€šä¿¡ã€æ™ºèƒ½åˆ†æäºä¸€ä½“**

[ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿéƒ¨ç½²) Â· [ğŸ“– æ–‡æ¡£](#-ç³»ç»Ÿç‰¹æ€§) Â· [ğŸ¯ æ¼”ç¤º](#-ç³»ç»Ÿé¢„è§ˆ) Â· [ğŸ¤ è´¡çŒ®](#-è´¡çŒ®æŒ‡å—)

</div>

---

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#-ç³»ç»Ÿæ¦‚è¿°)
- [ç³»ç»Ÿç‰¹æ€§](#-ç³»ç»Ÿç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)  
- [å¿«é€Ÿéƒ¨ç½²](#-å¿«é€Ÿéƒ¨ç½²)
- [ç³»ç»Ÿé¢„è§ˆ](#-ç³»ç»Ÿé¢„è§ˆ)
- [APIæ–‡æ¡£](#-apiæ–‡æ¡£)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸŒŸ ç³»ç»Ÿæ¦‚è¿°

æ™ºèƒ½æ°´åˆ©ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºç‰©è”ç½‘æŠ€æœ¯çš„ç°ä»£åŒ–æ°´åˆ©ç›‘æ§å¹³å°ï¼Œä¸“ä¸ºæ°´åº“ã€æ°´é—¸ã€æ³µç«™ç­‰æ°´åˆ©è®¾æ–½çš„å®æ—¶ç›‘æ§è€Œè®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œç»“åˆWebSocketå®æ—¶é€šä¿¡ï¼Œä¸ºæ°´åˆ©ç®¡ç†æä¾›å…¨æ–¹ä½çš„æ•°æ®æ”¯æŒå’Œæ™ºèƒ½å†³ç­–ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼
- **å®æ—¶ç›‘æ§**: æ¯«ç§’çº§æ•°æ®æ›´æ–°ï¼Œç¡®ä¿å…³é”®ä¿¡æ¯åŠæ—¶ä¼ è¾¾
- **æ™ºèƒ½åˆ†æ**: AIé©±åŠ¨çš„æ•°æ®åˆ†æï¼Œè¾…åŠ©å†³ç­–åˆ¶å®š
- **é«˜å¯ç”¨æ€§**: åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ï¼Œæ”¯æŒ7Ã—24å°æ—¶ä¸é—´æ–­è¿è¡Œ
- **æ˜“äºæ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒä¼ æ„Ÿå™¨å’ŒåŠŸèƒ½çš„å¿«é€Ÿæ‰©å±•

## âœ¨ ç³»ç»Ÿç‰¹æ€§

### ğŸ”„ å®æ—¶æ•°æ®ç›‘æ§
- **12ç§ä¼ æ„Ÿå™¨ç±»å‹**: æ°´ä½ã€æµé‡ã€æ°´è´¨ã€è®¾å¤‡çŠ¶æ€ç­‰å…¨æ–¹ä½ç›‘æ§
- **æ¯«ç§’çº§æ›´æ–°**: WebSocketå®æ—¶æ¨é€ï¼Œæ•°æ®å»¶è¿Ÿ < 100ms
- **å†å²æ•°æ®**: å®Œæ•´çš„æ•°æ®å­˜å‚¨å’Œå†å²è¶‹åŠ¿åˆ†æ
- **å¼‚å¸¸å‘Šè­¦**: æ™ºèƒ½é˜ˆå€¼ç›‘æ§ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æƒ…å†µ

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…PCã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡
- **å®æ—¶å›¾è¡¨**: EChartsé©±åŠ¨çš„åŠ¨æ€æ•°æ®å¯è§†åŒ–
- **ç›´è§‚æ“ä½œ**: ç”¨æˆ·å‹å¥½çš„æ“ä½œç•Œé¢ï¼Œé™ä½å­¦ä¹ æˆæœ¬
- **æ·±è‰²ä¸»é¢˜**: æŠ¤çœ¼çš„æ·±è‰²UIè®¾è®¡ï¼Œé€‚åˆé•¿æ—¶é—´ä½¿ç”¨

### ğŸ” å®‰å…¨å¯é 
- **JWTè®¤è¯**: åŸºäºTokençš„æ— çŠ¶æ€èº«ä»½éªŒè¯
- **æƒé™æ§åˆ¶**: å¤šçº§ç”¨æˆ·æƒé™ç®¡ç†
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®ä¼ è¾“åŠ å¯†ä¿æŠ¤
- **æ“ä½œæ—¥å¿—**: å®Œæ•´çš„ç”¨æˆ·æ“ä½œå®¡è®¡è¿½è¸ª

### ğŸš€ é«˜æ€§èƒ½æ¶æ„
- **Redisç¼“å­˜**: é«˜é€Ÿæ•°æ®ç¼“å­˜ï¼Œæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦
- **MySQLå­˜å‚¨**: å¯é çš„æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- **å¼‚æ­¥å¤„ç†**: åŸºäºasyncioçš„é«˜å¹¶å‘å¤„ç†èƒ½åŠ›
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒæ°´å¹³æ‰©å±•å’Œè´Ÿè½½åˆ†å¸ƒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```mermaid
graph TB
    A[å‰ç«¯ç•Œé¢<br/>Vue.js + ECharts] --> B[HTTPæœåŠ¡å™¨<br/>Python HTTP Server]
    A --> C[WebSocketå®¢æˆ·ç«¯<br/>å®æ—¶é€šä¿¡]
    
    B --> D[è®¤è¯æœåŠ¡<br/>JWT + bcrypt]
    B --> E[MySQLæ•°æ®åº“<br/>æ•°æ®æŒä¹…åŒ–]
    
    C --> F[WebSocketæœåŠ¡å™¨<br/>å®æ—¶æ¶ˆæ¯æ¨é€]
    F --> G[Redisç¼“å­˜<br/>å®æ—¶æ•°æ®å­˜å‚¨]
    
    H[æ•°æ®ç”Ÿäº§è€…<br/>ä¼ æ„Ÿå™¨æ¨¡æ‹Ÿ] --> G
    H --> E
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style F fill:#f3e5f5
    style H fill:#e8f5e8
    style E fill:#fff3e0
    style G fill:#ffebee
```

### æŠ€æœ¯æ ˆ

**åç«¯æŠ€æœ¯**
- **Python 3.9+**: æ ¸å¿ƒå¼€å‘è¯­è¨€
- **WebSocket**: å®æ—¶åŒå‘é€šä¿¡
- **MySQL**: å…³ç³»å‹æ•°æ®åº“
- **Redis**: å†…å­˜ç¼“å­˜æ•°æ®åº“
- **JWT**: æ— çŠ¶æ€èº«ä»½è®¤è¯
- **bcrypt**: å¯†ç åŠ å¯†

**å‰ç«¯æŠ€æœ¯**
- **Vue.js 3**: æ¸è¿›å¼JavaScriptæ¡†æ¶
- **ECharts**: æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **WebSocket API**: æµè§ˆå™¨å®æ—¶é€šä¿¡
- **CSS3**: ç°ä»£åŒ–UIæ ·å¼
- **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ç«¯é€‚é…

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### è‡ªåŠ¨éƒ¨ç½² (æ¨è)

#### Windows ç”¨æˆ·
```powershell
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Guojin06/IoT_Water_Conservancy_Project.git
cd IoT_Water_Conservancy_Project

# 2. è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
.\deploy.ps1
```

#### Linux/macOS ç”¨æˆ·
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Guojin06/IoT_Water_Conservancy_Project.git
cd IoT_Water_Conservancy_Project

# 2. è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
chmod +x deploy.sh && ./deploy.sh
```

### æ‰‹åŠ¨éƒ¨ç½²

<details>
<summary>ç‚¹å‡»å±•å¼€æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤</summary>

#### 1. ç¯å¢ƒè¦æ±‚
- Python 3.9+
- MySQL 8.0+
- Redis 6.0+

#### 2. å®‰è£…ä¾èµ–
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv ai_env
source ai_env/bin/activate  # Linux/macOS
# ai_env\Scripts\activate     # Windows

# å®‰è£…ä¾èµ–
pip install redis mysql-connector-python websockets aioredis bcrypt PyJWT
```

#### 3. æ•°æ®åº“åˆå§‹åŒ–
```bash
mysql -u root -p < WaterConservancyIoT/create_database.sql
```

#### 4. å¯åŠ¨æœåŠ¡
```bash
cd WaterConservancyIoT
python start_production.py
```

</details>

### è®¿é—®ç³»ç»Ÿ

ğŸŒ **Webç•Œé¢**: http://localhost:8888  
ğŸ‘¤ **é»˜è®¤è´¦æˆ·**: admin / admin123

## ğŸ“± ç³»ç»Ÿé¢„è§ˆ

### ä¸»æ§åˆ¶å°
![ä¸»æ§åˆ¶å°](https://via.placeholder.com/800x400/0a192f/64ffda?text=å®æ—¶ç›‘æ§ä¸»ç•Œé¢)

*å®æ—¶æ˜¾ç¤ºå…³é”®æ°´åˆ©æ•°æ®ï¼ŒåŒ…æ‹¬æ°´ä½ã€æµé‡ã€è®¾å¤‡çŠ¶æ€ç­‰ä¿¡æ¯*

### ä¼ æ„Ÿå™¨ç®¡ç†
![ä¼ æ„Ÿå™¨ç®¡ç†](https://via.placeholder.com/800x400/0a192f/64ffda?text=ä¼ æ„Ÿå™¨ç®¡ç†ç•Œé¢)

*ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ä¼ æ„Ÿå™¨è®¾å¤‡ï¼Œå®æ—¶ç›‘æ§è¿è¡ŒçŠ¶æ€*

### æ•°æ®åˆ†æ
![æ•°æ®åˆ†æ](https://via.placeholder.com/800x400/0a192f/64ffda?text=AIæ•°æ®åˆ†æç•Œé¢)

*æ™ºèƒ½æ•°æ®åˆ†æï¼Œæä¾›å†³ç­–æ”¯æŒå’Œè¶‹åŠ¿é¢„æµ‹*

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯æ¥å£
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

### ä¼ æ„Ÿå™¨æ•°æ®
```http
GET /api/sensors/all
Authorization: Bearer <jwt_token>
```

### WebSocketè¿æ¥
```javascript
const ws = new WebSocket('ws://localhost:8081');
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  // å¤„ç†å®æ—¶æ•°æ®
};
```

è¯¦ç»†APIæ–‡æ¡£è¯·å‚è€ƒ: [API_DOCUMENTATION.md](WaterConservancyIoT/API_DOCUMENTATION.md)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
IoT_Water_Conservancy_Project/
â”œâ”€â”€ WaterConservancyIoT/          # æ ¸å¿ƒä»£ç ç›®å½•
â”‚   â”œâ”€â”€ frontend/                 # å‰ç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ dashboard.html        # ä¸»æ§åˆ¶å°
â”‚   â”‚   â”œâ”€â”€ system-management.html # ç³»ç»Ÿç®¡ç†
â”‚   â”‚   â””â”€â”€ js/                   # JavaScriptæ¨¡å—
â”‚   â”œâ”€â”€ data_producer.py          # æ•°æ®ç”Ÿäº§è€…
â”‚   â”œâ”€â”€ working_websocket.py      # WebSocketæœåŠ¡å™¨
â”‚   â”œâ”€â”€ simple_server.py          # HTTPæœåŠ¡å™¨
â”‚   â”œâ”€â”€ mysql_client.py           # MySQLå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ redis_client.py           # Rediså®¢æˆ·ç«¯
â”‚   â””â”€â”€ auth_service.py           # è®¤è¯æœåŠ¡
â”œâ”€â”€ deploy.ps1                    # Windowséƒ¨ç½²è„šæœ¬
â”œâ”€â”€ deploy.sh                     # Linux/macOSéƒ¨ç½²è„šæœ¬
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements-dev.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver

# è¿è¡Œæµ‹è¯•
python -m pytest tests/
```

### æ–°å¢ä¼ æ„Ÿå™¨ç±»å‹
1. åœ¨ `data_producer.py` ä¸­å®šä¹‰ä¼ æ„Ÿå™¨é…ç½®
2. æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„ (å¦‚éœ€è¦)
3. ä¿®æ”¹å‰ç«¯æ˜¾ç¤ºé€»è¾‘
4. æ·»åŠ å¯¹åº”çš„æ•°æ®å¤„ç†é€»è¾‘

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼
1. **Fork** æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ **Pull Request**

### å¼€å‘è§„èŒƒ
- éµå¾ª PEP 8 Pythonä»£ç è§„èŒƒ
- æäº¤å‰è¯·è¿è¡Œæµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£å¸¸
- Pull Request è¯·åŒ…å«è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜
- æ–°åŠŸèƒ½è¯·æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªStarï¼ â­**

Made with â¤ï¸ by [Guojin06](https://github.com/Guojin06)

</div>
